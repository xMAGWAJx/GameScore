<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" layout:decorate="~{layout/main}">
    <head>
        <title>Add new result</title>
        
    </head>
    <body>

        <div layout:fragment="content">
            <div class="w3-row w3-margin">
                <div class="w3-card-4">
                  <div class="w3-container w3-dark-grey main-font">
                    <h4>Add your result</h4>
                  </div>
                    <div class="w3-container w3-light-grey">
                        <form class="main-font" autocomplete="off" th:object="${result}" th:action="@{/add-result}" method="post">
                            <table>
                                <tr>
                                    <td>
                                        <p></p>                                      
                                            <div class="w3-dropdown-hover">
                                                <input id="ddDisciplineId" type="hidden" th:field="*{activityId}"></input>
                                                <input id="ddDiscipline" class="w3-input w3-border w3-round" type="text" placeholder="Discipline"></input>
                                                <div id="dropdown" class="w3-dropdown-content w3-bar-block w3-border">                                                   
                                                  <a href="javascript:void(0)" th:attr="data-single=${activity.single}, data-activityid=${activity.id}" th:each="activity:${activities}" th:text="${activity.name}" class="w3-bar-item w3-button dropdown-activity">Link 1</a>                                                 
                                                </div>
                                                <script>
                                                    $(document).ready(function(){
                                                      $("#ddDiscipline").on("keyup", function() {
                                                        var value = $(this).val().toLowerCase();
                                                        $("#dropdown a").filter(function() {
                                                          $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                                                        });
                                                      });
                                                      $(".dropdown-activity").on("click", function() {
                                                          $("#ddDiscipline").val($(this).text());
                                                          var single = $(this).data("single");
                                                          if (single === 1) {
                                                              $("#second-team").hide();
                                                          } else {
                                                              $("#second-team").show();
                                                          }
                                                          var ddDisciplineId = $(this).data("activityid");
                                                            $("#ddDisciplineId").val(ddDisciplineId);
                                                      });
                                                    });
                                                </script>
                                            </div>
                                        
                                    </td>
                                    <td>
                                        <p></p>
                                            <input class="w3-input w3-border w3-round" type="text" id="result-date" placeholder="Date" th:field="*{date}">
                                                <script>
                                                    $(document).ready(function(){
                                                           $("#result-date").datepicker();
                                                        
                                                    })
                                                    </script>
                                                    
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <p></p>                                     
                                            <div class="w3-dropdown-hover">
                                                <input id="ddTeam1Id" type="hidden" th:field="*{team1Id}"></input>
                                                <input id="ddTeam" class="w3-input w3-border w3-round" type="text" placeholder="Your team"></input>
                                                <div id="dropdown" class="w3-dropdown-content w3-bar-block w3-border">                                                   
                                                  <a href="javascript:void(0)" th:attr="data-team1id=${userTeam.id}" th:each="userTeam:${userTeams}" th:text="${userTeam.name}" class="w3-bar-item w3-button dropdown-team">Link 1</a>                                                 
                                                </div>
                                                <script>
                                                    $(document).ready(function(){
                                                      $("#ddTeam").on("keyup", function() {
                                                        var value = $(this).val().toLowerCase();
                                                        $("#dropdown a").filter(function() {
                                                            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                                                        });
                                                      });
                                                      $(".dropdown-team").on("click", function() {
                                                            $("#ddTeam").val($(this).text());
                                                            var ddTeam1Id = $(this).data("team1id");
                                                            $("#ddTeam1Id").val(ddTeam1Id);
                                                      });
                                                    });
                                                </script>
                                            </div>
                                        
                                    </td>
                                    <td>
                                        <p></p><input class="w3-input w3-border w3-round" type="text" placeholder="Score" th:field="*{teamScore1Id}">                                        
                                    </td>
                                </tr>
                                <tr id="second-team">
                                    <td>
                                        <p></p>                                     
                                            <div class="w3-dropdown-hover">
                                                <input id="ddTeam2Id" type="hidden" th:field="*{team2Id}"></input>
                                                <input id="ddTeams" class="w3-input w3-border w3-round" type="text" placeholder="Team"></input>
                                                <div id="dropdown" class="w3-dropdown-content w3-bar-block w3-border">                                                   
                                                  <a href="javascript:void(0)" th:attr="data-team2id=${team.id}" th:each="team:${teams}" th:text="${team.name}" class="w3-bar-item w3-button dropdown-teams">Link 1</a>                                                 
                                                </div>
                                                <script>
                                                    $(document).ready(function(){
                                                      $("#ddTeams").on("keyup", function() {
                                                        var value = $(this).val().toLowerCase();
                                                        $("#dropdown a").filter(function() {
                                                          $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                                                        });
                                                      });
                                                      $(".dropdown-teams").on("click", function() {
                                                          $("#ddTeams").val($(this).text());
                                                          var ddTeam1Id = $(this).data("team2id");
                                                         $("#ddTeam2Id").val(ddTeam1Id);
                                                      });
                                                    });
                                                </script>
                                            </div>
                                    </td>
                                    <td>
                                        <p></p><input class="w3-input w3-border w3-round" type="text" placeholder="Score" th:field="*{teamScore2Id}">
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        
                                    </td>
                                    <td>
                                        
                                        <p></p>
                                    </td>
                                </tr>
                            </table>
                            <p>
                                <button class="w3-btn w3-red main-font">Save</button>
                                <button class="w3-btn w3-dark-grey main-font">Cancel</button>
                            </p>
                        </form> 
                    </div>
                </div>
            </div>
             <script src="/assets/js/registration.js" type="text/javascript"></script>
        </div>
       
    </body>
</html>
